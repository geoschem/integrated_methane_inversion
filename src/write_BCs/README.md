## Directions to generate the boundary conditions.

1. Change settings in `config_write_BCs.yml`.
2. Run run_BCs.sh (`sbatch -p seas_compute,huce_cascade,huce_intel -t 4-00:00 --mem 4000 --wrap "bash run_BCs.sh"`).
   - The `RunGEOSChem` portion of the code will generate boundary conditions (uncorrected) for the time period of interest specified in the config file (~9 hours).
   - The `WriteBCs` portion of the code with correct those boundary conditions using TROPOMI through three scritps:
      - `write_tropomi_GC_daily_avgs.py` writes a netCDF file that has daily averages of TROPOMI and what TROPOMI would have seen over a GEOS-Chem atmosphere (~8 hours).
      - `calculate_bias.py` uses these daily biases (along with some spatial and temporal smoothing) to determine a bias for the entire globe each day (~2 minutes).
      - `write_boundary.py` applies these corrections to the boundary conditions generated by the above GEOS-Chem run and writes out the new boundary conditions (~10 minutes).

Note that the boundary conditions for 1 Apr 2018 to 29 Apr 2018 are uncorrected GEOS-Chem outputs due to the lack of TROPOMI data. These still need to be generated in case users wants to run inversions starting right after 30 Apr 2018 (start of the TROPOMI data record) with ~1 month spinup.